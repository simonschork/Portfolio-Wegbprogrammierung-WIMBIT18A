<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width = device-width, initial-scale = 1">
    <title>Schwerpunkt</title>

    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../css/custom.css">

    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Webprogrammierung und Verteilte Systeme</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-time">
                        <a class="nav-link" href="../index.html">Startseite</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../portfolio/portfolio.html">Portfolio</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toogle" href="#" role="button" id="navbarDropdown"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Schwerpunkt</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a href="/schwerpunkt/tensorflowjs.html" class="dropdown-item">Toxicity Detection</a>
                            <a href="/schwerpunkt/flutter.html" class="dropdown-item">Flutter Applikation</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../kommentare/kommentare.html">Kommentare</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!--Überschrift-->
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 text-center ">
                <h1 class="mt-5">Mobile Applikation mit Flutter</h1>
            </div>
        </div>
    </div>

    <!-- Page Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-justify" id="architekur">
                <h2 class="mt-5">1. Architektur</h2>
                <h3 class="">1.1 Context View</h3>
                <div class="d-flex justify-content-center">
                    <figure role=" group" class="text-center">
                        <img src="../bilder/flutter/Views-Context.png" alt="Context View">
                        <figcaption class="text-center mt-3">Quelle: Eigene Darstellung</figcaption>
                    </figure>
                </div>
                <h3 class="">1.2 Functional View</h3>
                <div class="d-flex justify-content-center">
                    <figure role="group" class="text-center">
                        <img src="../bilder/flutter/Views-Functional.png" alt="Context View">
                        <figcaption class="text-center mt-3">Quelle: Eigene Darstellung</figcaption>
                    </figure>
                </div>
                <h3 class="">1.3 Hardware View</h3>
                <div class="d-flex justify-content-center">
                    <figure role="group" class="text-center">
                        <img src="../bilder/flutter/Views-Hardware.png" alt="Context View">
                        <figcaption class="text-center mt-3">Quelle: Eigene Darstellung</figcaption>
                    </figure>
                </div>
                <div class="col-lg-12 text-justify" id="flutter1">
                    <h2 class="mt-5">2. Flutter</h2>
                    <h3 class="">2.1 Was ist Flutter?</h3>
                    <p>
                        Das Framework Flutter wurde 2018 von Google vorgestellt. Es basiert auf der Programmiersprache
                        Dart, welche ebenfalls von Google entwickelt wurde. Ziel des Frameworks ist es die
                        Entwicklungszeiten zu verkürzen, eine schnelle Ausführungsgeschwindigkeit zu erzielen und dabei
                        die „native user experience“ zu erhalten. Mit Flutter lassen sich Anwendungen für das Web,
                        Windows, macOS, Linux, Google Fuchsia, Android und iOS schreiben. Programme für Windows, Linux,
                        macOS, Android und iOS werden für die Zielplattform kompiliert und dann in der Dart-VM
                        ausgeführt. Web-Anwendungen werden in Javascript übersetzt.
                    </p>
                    <div class="d-flex justify-content-center">
                        <figure role="group" class="text-center">
                            <img src="../bilder/flutter/cross_plattform.png" alt="flutter_cross_plattform.png">
                            <figcaption class="text-center mt-3">Quelle: <a
                                    href="https://miro.medium.com/max/1400/1*xVpQxeBOJ6IND3d9m9vHGA.png">https://miro.medium.com/max/1400/1*xVpQxeBOJ6IND3d9m9vHGA.png</a>
                            </figcaption>
                        </figure>
                    </div>
                    <p>
                        Das Framework selbst ist in C++ geschrieben was die üblichen Performanzvorteile gegenüber
                        anderen Programmiersprachen mit sich bringt.
                    </p>
                </div>
                <div class="col-lg-12 text-justify" id="flutter2">
                    <h3 class="">2.2 UI Rendering</h3>
                    <p>
                        Flutter ist für schnelleres Rendering bekannt und beliebt. Die Benutzeroberfläche einer
                        Flutterapplikation lässt sich in ihre Widgets unterteilen. Jeder Baustein ist ein Widget, sogar
                        die App selbst, aber dazu später mehr Details.
                        Wirft man einen Blick in die Widgetklasse die vom Framework zu Verfügung gestellt wird fällt die
                        Bemerkung „@immutable“ ins Auge. Dies bedeutet alle Eigenschaften eines Widgets müssen als
                        „final“ deklariert werden und können somit nach der Instanzierung nicht verändert werden.
                    </p>
                    <div class="d-flex justify-content-center">
                        <figure role="group" class="text-center">
                            <img src="../bilder/flutter/widget_class.png" alt="widget_class.png">
                            <figcaption class="text-center mt-3">Quelle: <a
                                    href="https://miro.medium.com/max/1400/0*eOwZhDfg8SXAb8tf">https://miro.medium.com/max/1400/0*eOwZhDfg8SXAb8tf</a>
                            </figcaption>
                        </figure>
                    </div>
                    <p>
                        Dieses Konzept macht für eine Benutzeroberfläche keinen Sinn. Flutter löst dieses Problem durch
                        verschiedene Status in denen sich das UI befinden kann. Neben dem Widget-Baum, der für den
                        Entwickler sichtbar und von ihm geschrieben ist, gibt es in Flutter einen Element- und einen
                        RenderObject-Baum.
                        Beim Starten der Applikation erstellt Flutter direkt aus dem Code den Widget-Baum. Anschließend
                        wird die createElement()-Methode jedes Widgets aufgerufen und ein korrespondierender
                        Element-Baum aufgebaut. Der RenderObject-Baum entsteht durch das Aufrufen der
                        createRenderObject()-Methode eines jeden Elements und beinhaltet die Objekte die schlussendlich
                        auf dem Display angezeigt werden. Ein RenderObject beinhaltet alle Eigenschaften die Größe,
                        Position, Farbgebung, usw. bestimmen und ist somit sehr aufwendig zu instanzieren.
                        Bisher hört es sich an als würde dieses Verfahren alles nur noch komplizierter machen, der
                        Nutzen wird deutlich, wenn man die Veränderung eines Widgets im „Flutter Inspector“ beobachtet.
                        Verändert man ein Text-Widget, beispielsweise durch einen Knopfdruck, baut Flutter kein neues
                        RenderObject, das Element vergleicht die Eigenschaften des Widgets und des RenderObjects. Wenn
                        diese sich nur marginal unterscheiden bzw. sind vom selben Typ wird kein neues Objekt
                        instanziert, sondern lediglich die nötigen Eigenschaften erneuert. Bei einem Text-Widget wäre
                        das z.B. die Eigenschaft „…text: „Hallo Welt…““ => „…text: „Ciao Welt“…“. Eigenschaften wie
                        Größe und Position bleiben unberührt. Dies geschieht durch die updateRenderObject()-Methode.
                    </p>
                    <div class="d-flex justify-content-center">
                        <figure role="group" class="text-center">
                            <img src="../bilder/flutter/flutter_trees.png" alt="flutter_trees.png">
                            <figcaption class="text-center mt-3">Quelle: <a
                                    href="https://miro.medium.com/max/1302/0*gJw9tUyadnETEx0Q">https://miro.medium.com/max/1302/0*gJw9tUyadnETEx0Q</a>
                            </figcaption>
                        </figure>
                    </div>
                    <p>
                        Bedingt dadurch, dass eine Flutter-Anwendung aus hunderten von Widgets besteht wäre das Erneuern
                        des gesamten Baums sehr aufwendig. Das oben beschriebene Vorgehen erklärt warum Flutter
                        verglichen mit anderen Frameworks UI-Objekte schneller rendert.
                    </p>
                </div>
                <div class="col-lg-12 text-justify" id="flutter3">
                    <h3 class="">2.3 Projektaufbau</h3>
                    <p>
                        Ein Flutter-Projekt wird über eine Konsole der Wahl initialisiert.
                    </p>
                    <div class="d-flex justify-content-center">
                        <figure role="group" class="text-center">
                            <img src="../bilder/flutter/create_project.png" alt="create_project.png">
                            <figcaption class="text-center mt-3">Quelle: Eigene Darstellung</figcaption>
                        </figure>
                    </div>
                    <p>
                        Anschließend erstellt Flutter eine Reihe von Ordnern und Dateien, die im späteren Projekt
                        gebraucht werden.
                    </p>
                    <p>
                        Zum Schluss wird „flutter doctor“ ausgeführt, um auf mögliche fehlende Anwendungen hinzuweisen.
                    </p>
                    <div class="d-flex justify-content-center">
                        <figure role="group" class="text-center">
                            <img src="../bilder/flutter/flutter_doctor.png" alt="flutter_doctor.png">
                            <figcaption class="text-center mt-3">Quelle: Eigene Darstellung</figcaption>
                        </figure>
                    </div>
                    <div class="row">
                        <div class="col"></div>
                        <div class="col-5">
                            <p>
                                Das Ergebnis ist ein Projekt mit der rechts sichtbaren Struktur.Ich möchte hier nur auf
                                die
                                wichtigsten Elemente eingehen. In den Ordnern „android“ und „ios“ befinden später die
                                automatisch generierten Dateien, die für die Veröffentlichung der App auf der jeweiligen
                                Plattform benötigt werden. In der „pubspec.yaml“ werden Versionen der Pakete und externe
                                Pakete
                                festgelegt, die mit dem Kommandozeilenbefehl „flutter pub get“ installiert werden. Unter
                                „lib“
                                werden alle „*.dart“-Dateien abgelegt die unseren Code enthalten. Wie zuvor beschrieben
                                startet
                                die Datei „main.dart“ unsere App.
                                In den folgenden Abschnitten möchten wir interessante Aspekte unserer Anwendung
                                hervorheben
                                wir
                                werden nicht auf den gesamten Code eingehen.
                            </p>
                        </div>
                        <div class="col-6">
                            <figure role="group" class="ml-4">
                                <img src="../bilder/flutter/project_structure.png" alt="project_structure.png">
                                <figcaption class="text-center mt-3">Quelle: Eigene Darstellung</figcaption>
                            </figure>

                        </div>
                    </div>
                    <div class="col-lg-12 text-justify">
                        <h3>2.4 Programmieren mit Widgets</h3>
                        <p>
                            In Flutter hört man ständig das Wort Widget, doch was genau ist das und wie programmiert man
                            damit eine Applikation?
                            Diese Fragestellung möchten wir mit Hilfe unserer App versuchen zu erklären.
                            Vorerst ein paar allgemeine Punkte. Wie zuvor beschrieben ist Flutter ein Framework,
                            dementsprechend kommt es out-of-the-box mit einer großen Auswahl an Klassen, die nur noch
                            implementiert werden müssen. Diese Klassen sind Widgets, sie erben alle entweder von der
                            Superklasse „StatelessWidget“ oder „StatefulWidget“. Ein StatelessWidget kann sich während
                            der Laufzeit nicht verändern. Typische Beispiele sind Text() oder Icon(). Um eine
                            interaktive Benutzeroberfläche zu gestalten benötigt man ein „stateful Widget“. Es erbt von
                            „StatefulWidget“ und „State“. Der aktuelle Zustand eines solchen Widgets wird in einem
                            „State“ Objekt gespeichert. Sobald sich das Widget verändert wird die setState() Methode
                            dieses Objekts aufgerufen und so der Zustand aktualisiert.
                            Um das besser zu veranschaulichen hier der HomeScreen unserer App:
                            Um den Homescreen zu zeigen müssen wir die Klasse „HomeScreen“ aufrufen, sie erbt von
                            „StatefulWidget“. Diese Beziehung definiert sie als Widget dessen Aufbau in einem
                            „State“-Objekt gespeichert ist. Um das Objekt zu instanzieren muss die createState() Methode
                            aufgerufen und ein „State“ initiiert werden. Diesen „State“ bildet die Klasse
                            „_HomeScreenState“, welche von State mit Datentyp HomeScreen erbt. In dieser Klasse
                            überschreiben wir die build() Methode. In einem Widget vergleichbar mit einem Kontruktor.
                            Jedoch nicht im klassischen Sinn, da sie zwar ein Objekt zurückgibt, dieses aber
                            gleichzeitig die Darstellung enthält und mit dem in 2.2 UI Rendering beschriebenen Prozess
                            visualisiert wird. Dieses HomeScreen-Widget setzt sich aus Folgenden, ineinander
                            verschachtelten Widgets zusammen (es hilft sich die Widgets als Baum vorzustellen):
                        </p>
                        <div class="row">
                            <div class="col-6">
                                <ul>
                                    <li>
                                        <em>Scaffold</em> ist der Hintergrund der App, hier kann die
                                        Hintergrundfarbe definiert werden. Im Parameter „body“ kann ein weiteres Widget
                                        mitgegeben werden.
                                    </li>
                                    <br>
                                    <li><em>SafeArea</em> hilft mit clientspezifischen Anforderungen, z.B.
                                        Notches
                                        umzugehen.
                                        Minimum legt den minimalen Abstand fest, der zum Bildschirmrand eingehalten
                                        werden muss.</li>
                                    <br>
                                    <li><em>EdgeInset</em> setzt einen bestimmten Abstand zu jeder Seite einer
                                        Box. Hier
                                        zwischen
                                        Bildschirmrand und SafeArea.</li>
                                    <br>
                                    <li><em>Column</em> ist das erste Layout Widget im Homescreen, es ordnet
                                        alle
                                        Kind-Widgets
                                        wie in einer Spalte untereinander an.</li>
                                    <br>
                                    <li><em>Padding</em> legt einen Abstand zu beliebigen Seiten fest.</li>
                                    <br>
                                    <li><em>Center</em> zentriert das Kind-Widget.</li>
                                    <br>
                                    <li><em>Text</em> stellt einen String dar, welcher mit dem Parameter „stlye“
                                        beliebig
                                        visualisiert und mit „textAlign“ ausgerichtet werden kann.</li>
                                </ul>
                                <p>Zum Schluss wird noch die Klasse „HomeNavBar“ aufgerufen welche mehrere Buttons
                                    zurückgibt. Dieses Widget ist selbst kreiert aber in eine andere Klasse ausgelagert.
                                    Durch die child oder children Parameter der Widgets wird deutlich dass es ich auf
                                    Programmebene tatsächlich um einen Baum handelt der von der Dart-VM gerendert wird.
                                </p>
                            </div>
                            <div class="col-6">
                                <figure role="group" class="ml-4">
                                    <img src="../bilder/flutter/home_view.png" alt="home_view.png">
                                    <figcaption class="text-center mt-3">Quelle: Eigene Darstellung</figcaption>
                                </figure>
                            </div>
                        </div>
                        <h3>2.5 Screens und Routing</h3>
                        <p>
                            Unsere App soll aus mehreren Screens bestehen für eine dynamische Navigation, die
                            unseren Designvorstellungen entspricht, implementieren wir „named Routes“. Navigation
                            lässt sich in Flutter auf mehrere Arten lösen. Neben der oben genannten wäre es auch
                            möglich das NavBar-oder PageView-Widget zu verwenden. Beide würden aber auch mit
                            Restriktionen kommen. Unsere App hat zurzeit drei verschiedene Screens. Diese werden in
                            ihrer eigenen Klasse definiert, die in der build()-Methode den Screen als Widget
                            zurückgibt.
                            Mit einem „MaterialPageRoute“-Widget können wir nun eine „Route“ generieren die uns von
                            egal wo in der Applikation immer auf den „HomeScreen“ bringt.
                        </p>
                        <figure class="text-center" role="group" class="ml-4">
                            <img src="../bilder/flutter/router_class.png" alt="router_class.png">
                            <figcaption class="mt-3">Quelle: Eigene Darstellung</figcaption>
                        </figure>
                        <p>
                            Wir verpacken das Ganze in die Klasse „Router“ und die Funktion „createRoute“. Als
                            Mitgabewert wählen wir die Variable „settings“ die bestimmt welche Route generiert wird.
                            Wenn wir in „createRoute“ die Variable homeRoute geben, werden wir zum „HomeScreen“
                            geleitet.
                            Um die Navigation zu implementieren müssen wir, wie in Abbildung 7 gezeigt, im
                            „MaterialApp“-Widget der Eigenschaft „onGenerateRoute“ unsere „createRoute“-Methode
                            mitgeben.
                        </p>
                        <figure class="text-center" role="group" class="ml-4">
                            <img src="../bilder/flutter/set_routing.png" alt="set_routing.png">
                            <figcaption class="mt-3">Quelle: Eigene Darstellung</figcaption>
                        </figure>
                        <p>
                            Da der „HomeScreen“ gleichzeitig der Startbildschirm unserer App sein soll setzen wir
                            die erste Route auf „homeRoute“.
                        </p>
                        <h3>2.6 Datenhaltung und Queries</h3>
                        <p>
                            Am Anfang des Projektes haben wir nur wenige Daten in-memory angelegt, das reichte um
                            Basisfunktionen zu
                            befüllen und Flutter Funktionen zu erproben. Ausgelöst durch die Implementierung einer
                            Listen Funktion
                            in Flutter waren wir dazu angehalten eine Prototyp Datenbank anzulegen und diese mit ersten
                            Daten zu
                            befüllen. Wir schwankten erst zwischen SQLite und Postgres haben uns dann aber
                            richtigerweise für
                            letztere entschieden. Da SQLite keine guten Funktionen bietet im Kontext von verteilten
                            Systemen eine
                            gewisse separation-of-concerns vorzunehmen und die DB auf einem Server statt Cleintseitig
                            laufen zu
                            lassen. Die Anbindung der Datenbank haben wir innerhalb von python mit dem psycopg2
                            erledigt. Um eine
                            Liste aus der Datenbank auszugeben haben wir eine Query-File angelegt welche von einer API
                            aus
                            aufgerufen wird.
                        </p>
                        <figure class="text-center" role="group" class="ml-4">
                            <img src="../bilder/flutter/queries.png" alt="queries.py">
                            <figcaption class="mt-3">Quelle: Eigene Darstellung</figcaption>
                        </figure>
                    </div>
                </div>


            </div>

            <div class="col-lg-12 text-justify" id="quellen">
                <h3 class="mt-5">Quellen</h3>
                <ul class="mt-4">
                    <li><a href="hhttps://flutter.dev/" target="_blank" rel="noopener noreferrer">flutter.dev</a>
                        [Dokumentation]</li>
                    <li><a href="https://dart.dev/" target="_blank" rel="noopener noreferrer">dart.dev</a>
                        [Dokumentation]</li>
                    <li><a href="https://www.flutterinternals.org//" target="_blank" rel="noopener noreferrer">Flutter
                            Internals</a>
                        [Community Dokumentation]</li>
                    <li><a href="https://medium.com/flutter-community/clean-navigation-in-flutter-using-generated-routes-891bd6e000df"
                            target="_blank" rel="noopener noreferrer">Clean Navigation in Flutter Using Generated
                            Routes</a>
                        [Artikel]</li>
                    <li><a href="https://medium.com/flutter-community/flutter-effectively-scale-ui-according-to-different-screen-sizes-2cb7c115ea0a"
                            target="_blank" rel="noopener noreferrer">Flutter — Effectively scale UI according to
                            different screen sizes</a>
                        [Artikel]</li>
                    <li><a href="https://www.freecodecamp.org/news/why-mobile-apps-makers-are-in-love-with-flutter/"
                            target="_blank" rel="noopener noreferrer">Google Flutter Review – Why Mobile App
                            Developers Love Flutter</a>
                        [Artikel]</li>
                    <li><a href="https://medium.com/flutter-community/parsing-complex-json-in-flutter-747c46655f51"
                            target="_blank" rel="noopener noreferrer">Parsing complex JSON in Flutter
                        </a> [Artikel]</li>
                    <li><a href="https://www.melvinvivas.com/flutter-listview-example-using-data-from-a-rest-api/"
                            target="_blank" rel="noopener noreferrer">Implement a Flutter ListView using data from a
                            REST API</a>
                        [Artikel]</li>
                    <li><a href="https://blog.smartnsoft.com/an-automatic-search-bar-in-flutter-flappy-search-bar-a470bc67fa1f"
                            target="_blank" rel="noopener noreferrer">An automatic Search
                            Bar in Flutter : flappy_search_bar</a>
                        [Artikel]</li>
                </ul>
            </div>
            <div class="mt-5"><br></div>
        </div>
    </div>

    <!--Footer-->
    <footer class="mt-5 page-footer font-small mygrey pt-4">
        <div class="container text-center text-md-left">
            <div class="row">
                <div class="col-md-9 mt-md-0 mt-3">
                    <h5 class="text-uppercase white footer-font">Portfolio zur Vorlesung Webprogrammierung</h5>
                    <p class="white footer-font">Diese Webseite wurde im Rahmen einer Prüfungsleistung erstellt.
                        Der
                        Code ist
                        vollständig auf Github verfügbar. Zur Erstellung wurde das Framework Bootstrap genutzt,
                        angepasst und ergänzt.</p>
                </div>
                <hr class="clearfix w-100 d-md-none pb-3">
                <div class="col-md-3 mb-md-0 mb-3">
                    <h5 class="text-uppercase white footer-font">Links</h5>
                    <ul class="list-unstyled white">
                        <li><a class="white footer-font" href="https://github.com/simonschork/webprog-portfolio"
                                target="_blank">Github</a></li>
                        <li><a class="white footer-font" href="https://getbootstrap.com/" target="_blank">Bootstrap</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright text-center py-3 white footer-font">© 2019 Copyright:
            <span>Simon Schork</span>
        </div>
    </footer>

    <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title="Zurück zum Anfang"
        data-toggle="tooltip" data-placement="left"><i class="material-icons">arrow_upward</i></a>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/bootstrap.js"></script>
    <script src="../js/custom.js"></script>
</body>

</html>